{"ast":null,"code":"// src/components/Reports/ReportDetails.jsx\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';// import { reportsAPI } from '../../services/api';\nimport{reportsAPI}from'../../services/api';import Navbar from'../Common/Navbar';import Loading from'../Common/Loading';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ReportDetails=()=>{const{id}=useParams();const navigate=useNavigate();const[report,setReport]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchReportDetails();},[id]);const fetchReportDetails=async()=>{try{setLoading(true);const response=await reportsAPI.getById(id);setReport(response.data);}catch(err){setError('Failed to load report details');console.error(err);}finally{setLoading(false);}};const handleDownload=()=>{window.open(reportsAPI.download(id),'_blank');};const handleDelete=async()=>{if(window.confirm('Are you sure you want to delete this report?')){try{await reportsAPI.delete(id);navigate('/reports');}catch(err){alert('Failed to delete report');}}};if(loading)return/*#__PURE__*/_jsx(Loading,{});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});if(!report)return/*#__PURE__*/_jsx(\"div\",{children:\"Report not found\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-back\",onClick:()=>navigate('/reports'),children:\"\\u2190 Back to Reports\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:handleDownload,children:\"\\u2B07\\uFE0F Download\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger\",onClick:handleDelete,children:\"\\uD83D\\uDDD1\\uFE0F Delete\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-header-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:report.original_name}),/*#__PURE__*/_jsx(\"span\",{className:\"type-badge\",children:report.report_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Test Date\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(report.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Uploaded Date\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(report.uploaded_at).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"File Type\"}),/*#__PURE__*/_jsx(\"p\",{children:report.file_type})]}),report.owner_username&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Owner\"}),/*#__PURE__*/_jsx(\"p\",{children:report.owner_username})]})]}),report.vitals&&report.vitals.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"vitals-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Vitals Data\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vitals-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Vital Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Value\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:report.vitals.map(vital=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:vital.type}),/*#__PURE__*/_jsx(\"td\",{children:vital.value}),/*#__PURE__*/_jsx(\"td\",{children:vital.unit||'-'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(vital.date).toLocaleDateString()})]},vital.id))})]})})]})]})]})]});};export default ReportDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","reportsAPI","Navbar","Loading","jsx","_jsx","jsxs","_jsxs","ReportDetails","id","navigate","report","setReport","loading","setLoading","error","setError","fetchReportDetails","response","getById","data","err","console","handleDownload","window","open","download","handleDelete","confirm","delete","alert","className","children","onClick","original_name","report_type","Date","date","toLocaleDateString","uploaded_at","file_type","owner_username","vitals","length","map","vital","type","value","unit"],"sources":["D:/MERN STACK PROJECT/FRONTEND/HEALTH_WALLET_FRONTEND/src/components/Reports/ReportDetails.jsx"],"sourcesContent":["// src/components/Reports/ReportDetails.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n// import { reportsAPI } from '../../services/api';\r\nimport { reportsAPI } from '../../services/api';\r\nimport Navbar from '../Common/Navbar';\r\nimport Loading from '../Common/Loading';\r\n\r\nconst ReportDetails = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [report, setReport] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchReportDetails();\r\n  }, [id]);\r\n\r\n  const fetchReportDetails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await reportsAPI.getById(id);\r\n      setReport(response.data);\r\n    } catch (err) {\r\n      setError('Failed to load report details');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = () => {\r\n    window.open(reportsAPI.download(id), '_blank');\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (window.confirm('Are you sure you want to delete this report?')) {\r\n      try {\r\n        await reportsAPI.delete(id);\r\n        navigate('/reports');\r\n      } catch (err) {\r\n        alert('Failed to delete report');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <div className=\"error-message\">{error}</div>;\r\n  if (!report) return <div>Report not found</div>;\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <Navbar />\r\n      \r\n      <div className=\"page-content\">\r\n        <div className=\"details-header\">\r\n          <button className=\"btn-back\" onClick={() => navigate('/reports')}>\r\n            ‚Üê Back to Reports\r\n          </button>\r\n          <div className=\"details-actions\">\r\n            <button className=\"btn-secondary\" onClick={handleDownload}>\r\n              ‚¨áÔ∏è Download\r\n            </button>\r\n            <button className=\"btn-danger\" onClick={handleDelete}>\r\n              üóëÔ∏è Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"details-card\">\r\n          <div className=\"details-header-info\">\r\n            <h1>{report.original_name}</h1>\r\n            <span className=\"type-badge\">{report.report_type}</span>\r\n          </div>\r\n\r\n          <div className=\"details-grid\">\r\n            <div className=\"detail-item\">\r\n              <label>Test Date</label>\r\n              <p>{new Date(report.date).toLocaleDateString()}</p>\r\n            </div>\r\n\r\n            <div className=\"detail-item\">\r\n              <label>Uploaded Date</label>\r\n              <p>{new Date(report.uploaded_at).toLocaleDateString()}</p>\r\n            </div>\r\n\r\n            <div className=\"detail-item\">\r\n              <label>File Type</label>\r\n              <p>{report.file_type}</p>\r\n            </div>\r\n\r\n            {report.owner_username && (\r\n              <div className=\"detail-item\">\r\n                <label>Owner</label>\r\n                <p>{report.owner_username}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {report.vitals && report.vitals.length > 0 && (\r\n            <div className=\"vitals-details\">\r\n              <h3>Vitals Data</h3>\r\n              <div className=\"vitals-table\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Vital Type</th>\r\n                      <th>Value</th>\r\n                      <th>Unit</th>\r\n                      <th>Date</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {report.vitals.map((vital) => (\r\n                      <tr key={vital.id}>\r\n                        <td>{vital.type}</td>\r\n                        <td>{vital.value}</td>\r\n                        <td>{vital.unit || '-'}</td>\r\n                        <td>{new Date(vital.date).toLocaleDateString()}</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}