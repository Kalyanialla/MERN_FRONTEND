{"ast":null,"code":"// src/components/Shared/MySharedReports.jsx\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{reportsAPI}from'../../services/api';import Navbar from'../Common/Navbar';import Loading from'../Common/Loading';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MySharedReports=()=>{const[sharedReports,setSharedReports]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchMySharedReports();},[]);const fetchMySharedReports=async()=>{try{setLoading(true);const response=await reportsAPI.getMySharedReports();setSharedReports(response.data);}catch(err){console.error('Failed to fetch my shared reports:',err);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Shared Reports\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Reports you've shared with others\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"shared-reports-list\",children:sharedReports.length>0?sharedReports.map(report=>/*#__PURE__*/_jsxs(\"div\",{className:\"shared-report-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:report.original_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"share-count\",children:[\"Shared with \",/*#__PURE__*/_jsx(\"strong\",{children:report.shared_count}),\" \",report.shared_count===1?'person':'people']})]}),/*#__PURE__*/_jsx(\"span\",{className:\"type-badge\",children:report.report_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Test Date\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(report.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Uploaded\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(report.uploaded_at).toLocaleDateString()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/reports/\".concat(report.id),className:\"btn-secondary\",children:\"View Details\"}),/*#__PURE__*/_jsx(Link,{to:\"/reports/\".concat(report.id),className:\"btn-primary\",children:\"Manage Access\"})]})]},report.id)):/*#__PURE__*/_jsx(\"div\",{className:\"no-data-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"You haven't shared any reports yet.\"})})})]})]});};export default MySharedReports;","map":{"version":3,"names":["React","useState","useEffect","Link","reportsAPI","Navbar","Loading","jsx","_jsx","jsxs","_jsxs","MySharedReports","sharedReports","setSharedReports","loading","setLoading","fetchMySharedReports","response","getMySharedReports","data","err","console","error","className","children","length","map","report","original_name","shared_count","report_type","Date","date","toLocaleDateString","uploaded_at","to","concat","id"],"sources":["D:/MERN STACK PROJECT/FRONTEND/HEALTH_WALLET_FRONTEND/src/components/Shared/MyShareReports.jsx"],"sourcesContent":["// src/components/Shared/MySharedReports.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { reportsAPI } from '../../services/api';\r\nimport Navbar from '../Common/Navbar';\r\nimport Loading from '../Common/Loading';\r\n\r\nconst MySharedReports = () => {\r\n  const [sharedReports, setSharedReports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchMySharedReports();\r\n  }, []);\r\n\r\n  const fetchMySharedReports = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await reportsAPI.getMySharedReports();\r\n      setSharedReports(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch my shared reports:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <Navbar />\r\n      \r\n      <div className=\"page-content\">\r\n        <div className=\"page-header\">\r\n          <div>\r\n            <h1>My Shared Reports</h1>\r\n            <p>Reports you've shared with others</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"shared-reports-list\">\r\n          {sharedReports.length > 0 ? (\r\n            sharedReports.map((report) => (\r\n              <div key={report.id} className=\"shared-report-card\">\r\n                <div className=\"report-header\">\r\n                  <div>\r\n                    <h3>{report.original_name}</h3>\r\n                    <p className=\"share-count\">\r\n                      Shared with <strong>{report.shared_count}</strong> {report.shared_count === 1 ? 'person' : 'people'}\r\n                    </p>\r\n                  </div>\r\n                  <span className=\"type-badge\">{report.report_type}</span>\r\n                </div>\r\n\r\n                <div className=\"report-details\">\r\n                  <div className=\"detail-item\">\r\n                    <label>Test Date</label>\r\n                    <p>{new Date(report.date).toLocaleDateString()}</p>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>Uploaded</label>\r\n                    <p>{new Date(report.uploaded_at).toLocaleDateString()}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"report-actions\">\r\n                  <Link \r\n                    to={`/reports/${report.id}`}\r\n                    className=\"btn-secondary\"\r\n                  >\r\n                    View Details\r\n                  </Link>\r\n                  <Link \r\n                    to={`/reports/${report.id}`}\r\n                    className=\"btn-primary\"\r\n                  >\r\n                    Manage Access\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"no-data-message\">\r\n              <p>You haven't shared any reports yet.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MySharedReports;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}