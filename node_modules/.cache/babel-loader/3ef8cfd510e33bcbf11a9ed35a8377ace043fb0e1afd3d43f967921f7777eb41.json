{"ast":null,"code":"// src/components/Shared/SharedWithMe.jsx\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{reportsAPI}from'../../services/api';import Navbar from'../Common/Navbar';import Loading from'../Common/Loading';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SharedWithMe=()=>{const[sharedReports,setSharedReports]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchSharedReports();},[]);const fetchSharedReports=async()=>{try{setLoading(true);const response=await reportsAPI.getSharedReports();setSharedReports(response.data);}catch(err){console.error('Failed to fetch shared reports:',err);}finally{setLoading(false);}};const handleDownload=reportId=>{window.open(reportsAPI.download(reportId),'_blank');};if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shared With Me\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Reports that others have shared with you\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"shared-reports-list\",children:sharedReports.length>0?sharedReports.map(report=>/*#__PURE__*/_jsxs(\"div\",{className:\"shared-report-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"report-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:report.original_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"owner-info\",children:[\"Shared by: \",/*#__PURE__*/_jsx(\"strong\",{children:report.owner_username})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"type-badge\",children:report.report_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Test Date\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(report.date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Shared On\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(report.shared_at).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Access Type\"}),/*#__PURE__*/_jsx(\"p\",{className:\"access-badge\",children:report.access_type})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/reports/\".concat(report.id),className:\"btn-secondary\",children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:()=>handleDownload(report.id),children:\"\\u2B07\\uFE0F Download\"})]})]},report.id)):/*#__PURE__*/_jsx(\"div\",{className:\"no-data-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No reports have been shared with you yet.\"})})})]})]});};export default SharedWithMe;","map":{"version":3,"names":["React","useState","useEffect","Link","reportsAPI","Navbar","Loading","jsx","_jsx","jsxs","_jsxs","SharedWithMe","sharedReports","setSharedReports","loading","setLoading","fetchSharedReports","response","getSharedReports","data","err","console","error","handleDownload","reportId","window","open","download","className","children","length","map","report","original_name","owner_username","report_type","Date","date","toLocaleDateString","shared_at","access_type","to","concat","id","onClick"],"sources":["D:/MERN STACK PROJECT/FRONTEND/HEALTH_WALLET_FRONTEND/src/components/Shared/SharedWithMe.jsx"],"sourcesContent":["// src/components/Shared/SharedWithMe.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { reportsAPI } from '../../services/api';\r\nimport Navbar from '../Common/Navbar';\r\nimport Loading from '../Common/Loading';\r\n\r\nconst SharedWithMe = () => {\r\n  const [sharedReports, setSharedReports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchSharedReports();\r\n  }, []);\r\n\r\n  const fetchSharedReports = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await reportsAPI.getSharedReports();\r\n      setSharedReports(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch shared reports:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = (reportId) => {\r\n    window.open(reportsAPI.download(reportId), '_blank');\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <Navbar />\r\n      \r\n      <div className=\"page-content\">\r\n        <div className=\"page-header\">\r\n          <div>\r\n            <h1>Shared With Me</h1>\r\n            <p>Reports that others have shared with you</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"shared-reports-list\">\r\n          {sharedReports.length > 0 ? (\r\n            sharedReports.map((report) => (\r\n              <div key={report.id} className=\"shared-report-card\">\r\n                <div className=\"report-header\">\r\n                  <div>\r\n                    <h3>{report.original_name}</h3>\r\n                    <p className=\"owner-info\">\r\n                      Shared by: <strong>{report.owner_username}</strong>\r\n                    </p>\r\n                  </div>\r\n                  <span className=\"type-badge\">{report.report_type}</span>\r\n                </div>\r\n\r\n                <div className=\"report-details\">\r\n                  <div className=\"detail-item\">\r\n                    <label>Test Date</label>\r\n                    <p>{new Date(report.date).toLocaleDateString()}</p>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>Shared On</label>\r\n                    <p>{new Date(report.shared_at).toLocaleDateString()}</p>\r\n                  </div>\r\n                  <div className=\"detail-item\">\r\n                    <label>Access Type</label>\r\n                    <p className=\"access-badge\">{report.access_type}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"report-actions\">\r\n                  <Link \r\n                    to={`/reports/${report.id}`}\r\n                    className=\"btn-secondary\"\r\n                  >\r\n                    View Details\r\n                  </Link>\r\n                  <button \r\n                    className=\"btn-primary\"\r\n                    onClick={() => handleDownload(report.id)}\r\n                  >\r\n                    ⬇️ Download\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"no-data-message\">\r\n              <p>No reports have been shared with you yet.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SharedWithMe;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}